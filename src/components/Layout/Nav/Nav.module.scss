@use '../../../styles/tokens' as t;

.header {
  --nav-height: #{t.$nav-height};
  --nav-scroll-height: #{t.$nav-scroll-height};
  --transition:
    transform 300ms ease, height 300ms ease, box-shadow 300ms ease,
    background-color 300ms ease;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 11;
  width: 100%;
  height: var(--nav-height);
  background-color: rgba(t.$ui-bg, 0.75);
  // Blur for nav background
  backdrop-filter: blur(0.625rem);
  -webkit-backdrop-filter: blur(0.625rem);
  transition: var(--transition);
}

.headerMenuOpen {
  transform: translateY(0);
}

.headerScrolled {
  height: var(--nav-scroll-height);
  box-shadow: 0 0.625rem 1.875rem -0.625rem t.$color-brand-shadow;
}

.nav {
  position: relative;
  z-index: 12;
  width: 100%;
  max-width: t.$layout-container-max;
  margin-inline: auto;
  padding: 0 t.$nav-padding-desktop;
  display: flex;
  height: 100%;
  align-items: center;
  justify-content: space-between;
  transition: padding-inline 300ms ease;
}

.brand {
  display: inline-flex;
  align-items: center;
  color: inherit;
  text-decoration: none;
  z-index: 30;
}

.navItem {
  display: inline-flex;
  align-items: center;
}

.navFadeEnter {
  opacity: 0;
  transform: translateY(-0.5rem);
}

.navFadeEnterActive {
  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 320ms ease,
    transform 320ms ease;
  transition-delay: var(--nav-stagger-delay, 0ms);
}

.navFadeEnterDone {
  opacity: 1;
  transform: translateY(0);
}

.desktopActions {
  display: flex;
  align-items: center;
  gap: clamp(1.25rem, 2vw, 2rem);
}

.links {
  display: flex;
  align-items: center;
  gap: clamp(1.25rem, 2.8vw, 3rem);
  list-style: none;
  margin: 0;
  padding: 0;

  a {
    color: t.$ui-text-secondary;
    text-decoration: none;
    font-size: t.$font-size-sm;
    line-height: 1;
    transition: color 0.3s ease;
  }

  a:hover {
    color: t.$ui-accent-hover;
  }
}

.linkActive {
  color: t.$ui-accent !important;
}

.logo {
  width: t.$nav-logo-size;
  aspect-ratio: 587.85822 / 568.02051;
  transition: width 300ms ease;
}

.logoIcon {
  display: block;
  width: 100%;
  height: 100%;
  color: t.$ui-text-secondary;
  transition: color 0.4s ease;
}

.brand:hover .logoIcon {
  color: t.$ui-accent-hover;
}

@media (max-width: t.$break-nav-tablet) {
  .nav {
    padding-inline: t.$nav-padding-tablet;
  }
}

@media (max-width: t.$break-md) {
  .header {
    --nav-height: 5.525rem;
    --nav-scroll-height: 5.25rem;
  }

  .nav {
    padding-inline: t.$nav-padding-mobile;
  }

  .desktopActions {
    display: none;
  }
}

@media (prefers-reduced-motion: no-preference) {
  .headerUp {
    transform: translateY(0);
  }

  .headerDown {
    transform: translateY(calc(var(--nav-scroll-height) * -1));
  }
}

@media (max-width: t.$break-sm) {
  .nav {
    padding-inline: 1.5rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  .header {
    transition: none;
  }

  .navFadeEnter,
  .navFadeEnterActive,
  .navFadeEnterDone {
    opacity: 1;
    transform: none;
    transition: none;
  }
}
